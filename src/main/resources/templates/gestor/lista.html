<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0 shrink-to-fit=no" charset="utf-8">
<title>Start</title>
<link href="/imagens/logo_pp.png" rel="icon" type="image/x-icon" />

<link href="/css/main.css" rel="stylesheet" />

<!-- WEBJARS -->
<script src="/webjars/jquery/3.4.1/jquery.min.js"></script>
<script src="/webjars/bootstrap/4.3.1/js/bootstrap.min.js"></script>
<link rel="stylesheet" href="/webjars/bootstrap/4.3.1/css/bootstrap.min.css" />

</head>
<body class="bg-light">
	<!-- Barra de Menu -->
	<section th:insert="barra_de_menu :: barra_de_menu"></section>

	<section class="container">
		<div class="row justify-content-center shadow-sm rounded mt-3 p-3">
			<div class="col-12">
				<h5 class="text-center">Gestores</h5>
			</div>
			<div class="col-auto mt-2">
				<table class="table table-hover table-striped  table-responsive table-sm mt-2">
					<thead class="thead-dark">
						<tr>
							<th class="text-left font-weight-normal" scope="col">Nome</th>
							<th class="text-center font-weight-normal" scope="col">E-mail</th>
							<th th:if="${usuario.hasAnyRole('ROLE_EDITAR')}" scope="col" />
						</tr>
					</thead>
					
					<tbody>
						<tr th:each="item : ${lista}" th:style="${'background-color:'+item.cor.corFundo+';color:'+item.cor.corFonte+';'}">
							<td class="text-left align-middle" th:text="${item.nome}" scope="row" />
							<td class="text-center align-middle" th:text="${item.email}" scope="row" />
							<td th:if="${usuario.hasAnyRole('ROLE_EDITAR')}" class="text-center align-middle" scope="row"><a class="btn btn-warning btn-sm" th:href="@{/gestor(id=${item.id})}">Alterar</a></td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>
		
		<section th:insert="mensagem :: mensagem"></section>
	</section>
	
	<script th:if="${sucesso != null || erro != null || alerta != null}" type="text/javascript">
		$("#mensagem").modal("show");	
	</script>	
</body>
</html>